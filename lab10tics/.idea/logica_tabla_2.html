<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
              crossorigin="anonymous">
    </head>
    <body>


        <div class="container text-center" id="contenedor">

            <!--iterar este valor para hacer pruebas-->
            <input id="valor" value="6"></input>

        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
                crossorigin="anonymous"></script>
        <script>
            const valor = parseInt(document.getElementById("valor").value);
            const dobleValor = valor * 2;

            const contenedor = document.getElementById("contenedor");

            const nuevodiv = document.createElement("div");

            let valor_fila = 0;
            let valor_columna = 0;

            // Encontrar los divisores más cercanos al valor doble
            for (let i = Math.floor(Math.sqrt(dobleValor)); i >= 2; i--) {
                if (dobleValor % i === 0) {
                    valor_fila = i;
                    valor_columna = dobleValor / i;
                    break;
                }
            }

            // Verificar si el número de columnas es mayor que el número de filas
            if (valor_columna > valor_fila) {
                [valor_fila, valor_columna] = [valor_columna, valor_fila];
            }

            // Verificar el caso especial para el valor 1
            if (valor === 1) {
                valor_fila = 2;
                valor_columna = 1;
            }

            contenedor.innerHTML = `<div id='div1' class='row row-cols-${valor_columna}'></div>`;

            let columnas = "";
            let count = 1; // Contador para el nombre de imagen

            for (let n = 0; n < valor_fila; n++) {
                for (let m = 0; m < valor_columna; m++) {
                    const nro_filas = `<div class='col'>Imagen ${count}</div>`;
                    columnas += nro_filas;
                    count++;
                }
            }

            contenedor.append(nuevodiv);

            const contenedor2 = document.getElementById("div1");
            contenedor2.innerHTML = columnas;
        </script>


    </body>
</html>
